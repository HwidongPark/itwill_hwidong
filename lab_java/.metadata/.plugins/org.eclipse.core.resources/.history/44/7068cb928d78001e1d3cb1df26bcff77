package com.itwill.polyglot.view;


import java.awt.Color;
import java.awt.EventQueue;

import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.border.EmptyBorder;
import javax.swing.JLabel;
import java.awt.Font;
import java.awt.event.KeyAdapter;
import java.awt.event.KeyEvent;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;

import javax.swing.JTextField;
import javax.swing.JRadioButton;
import javax.swing.JButton;
import javax.swing.ButtonGroup;

public class FindPasswordFrame extends JFrame {

    private static final long serialVersionUID = 1L;
    private JPanel contentPane;
    private JLabel lblTitle;
    private JTextField textAccount;
    private JRadioButton rdbtnPhone;
    private JRadioButton rdbtnEmail;
    private JTextField textOptionChosen;
    private JLabel lblOptionChosen;
    private JLabel lblNewLabel;
    private JButton btnFindPassword;
    private final ButtonGroup buttonGroup = new ButtonGroup();
    private JLabel lblPhoneWarning;

    /**
     * Launch the application.
     */
    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    FindPasswordFrame frame = new FindPasswordFrame();
                    frame.setVisible(true);
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    }

    /**
     * Create the frame.
     */
    public FindPasswordFrame() {
        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
        setBackground(Color.WHITE);
        setResizable(false);
        setBounds(100, 100, 426, 395);
        contentPane = new JPanel();
        contentPane.setBackground(new Color(255, 255, 255));
        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));

        setContentPane(contentPane);
        contentPane.setLayout(null);
        
        lblTitle = new JLabel("비밀번호 찾기");
        lblTitle.setFont(new Font("D2Coding", Font.BOLD, 20));
        lblTitle.setBounds(124, 10, 156, 44);
        contentPane.add(lblTitle);
        
        JLabel lblAccount = new JLabel("아이디:");
        lblAccount.setFont(new Font("D2Coding", Font.BOLD, 15));
        lblAccount.setBounds(27, 98, 71, 27);
        contentPane.add(lblAccount);
        
        textAccount = new JTextField();
        textAccount.setBounds(110, 93, 242, 34);
        contentPane.add(textAccount);
        textAccount.setColumns(10);
        
        // 전화번호/이메일 선택여부에 따라 달라지는 label
        lblOptionChosen = new JLabel("전화번호");
        lblOptionChosen.setFont(new Font("D2Coding", Font.BOLD, 15));
        lblOptionChosen.setBounds(27, 191, 71, 27);
        contentPane.add(lblOptionChosen);
        
        // 라디오버튼, 전화
        rdbtnPhone = new JRadioButton("전화번호");
        buttonGroup.add(rdbtnPhone);
        rdbtnPhone.setSelected(true);
        rdbtnPhone.addMouseListener(new MouseAdapter() {    // 핸드폰번호 rdbtn 마우스리스너 추가

            @Override
            public void mousePressed(MouseEvent e) {
                lblOptionChosen.setText("전화번호");
            }    
            
            
        });
        
        rdbtnPhone.setBackground(new Color(255, 255, 255));
        rdbtnPhone.setFont(new Font("D2Coding", Font.PLAIN, 10));
        rdbtnPhone.setBounds(194, 147, 90, 23);
        contentPane.add(rdbtnPhone);
        
        // 라디오버튼, 이메일
        rdbtnEmail = new JRadioButton("이메일");
        buttonGroup.add(rdbtnEmail);
        rdbtnEmail.addMouseListener(new MouseAdapter() {    // 이메일 rdbtn 마우스리스너 추가

            @Override
            public void mousePressed(MouseEvent e) {
                lblOptionChosen.setText("이메일");
            }
            
            
            
        });
        rdbtnEmail.setFont(new Font("D2Coding", Font.PLAIN, 10));
        rdbtnEmail.setBackground(Color.WHITE);
        rdbtnEmail.setBounds(288, 147, 64, 23);
        contentPane.add(rdbtnEmail);
        
        lblNewLabel = new JLabel("비밀번호 찾기 옵션:");
        lblNewLabel.setFont(new Font("D2Coding", Font.ITALIC, 12));
        lblNewLabel.setBounds(55, 150, 128, 15);
        contentPane.add(lblNewLabel);
        
        textOptionChosen = new JTextField();
        textOptionChosen.addKeyListener(new KeyAdapter() {  // 선택정보 텍스트필드 keyListener

            @Override
            public void keyPressed(KeyEvent e) {    // 키 눌렸을 때 행동
                char c = e.getKeyChar();
                if (rdbtnPhone.isSelected()) {
                    if (c == '0' || c == '1' || c == '2' || c == '3' || c == '4' || c == '5' || c == '6'
                            || c == '7' || c == '8' || c == '9' || c == '\b') {
                        textOptionChosen.setEditable(true);
                        lblPhoneWarning.setText("");
                    } else {
                        textOptionChosen.setEditable(false);
                        lblPhoneWarning.setText("*전화번호는 숫자만 입력 가능합니다.");
                    }
                }
                
                else if(rdbtnEmail.isSelected()) {
                    textOptionChosen.setEditable(true);
                    lblPhoneWarning.setText("");
                }
                
            }
            
        }); // key listener끝
        textOptionChosen.setColumns(10);
        textOptionChosen.setBounds(110, 184, 242, 34);
        contentPane.add(textOptionChosen);
        
        
        // 비밀번호 찾는 버튼
        btnFindPassword = new JButton("비밀번호 찾기");
        btnFindPassword.setBackground(new Color(255, 255, 255));
        btnFindPassword.setBounds(139, 266, 115, 44);
        contentPane.add(btnFindPassword);
        
        // 핸드폰번호 경고 label
        lblPhoneWarning = new JLabel("");
        lblPhoneWarning.setFont(new Font("D2Coding", Font.ITALIC, 10));
        lblPhoneWarning.setBounds(110, 220, 242, 15);
        contentPane.add(lblPhoneWarning);
    }
}
